---
title: 20_Dubbo_高可用_zookeeper宕机与Dubbo直连
date: 2019-09-22 11:12:51
tags: 
 - Dubbo
categories:
 - Java
 - Dubbo
---

# 20_Dubbo\_高可用_zookeeper宕机与Dubbo直连

## zookeeper宕机

现象：zookeeper注册中心宕机，而消费者还是可以消费dubbo暴露的服务。



原因：

1. 健壮性

   - 监控中心宕掉不影响使用，只是丢失部分采样数据。
   - 数据库宕掉之后，注册中心仍然可以通过缓存提供服务列表查询，但不能注册新服务
   - 注册中心对等集群，任意一台宕掉后，将自动切换到另一台
   - **注册中心全部宕掉后，服务提供者和服务消费者仍能通过本地缓存通讯。**
   - 服务提供者无状态，任意一台宕掉后。
   - 服务提供者全部宕掉后，服务消费者应用将无法使用，并无限次重连等待服务提供者恢复；

2. 高可用

   通过设计，减少系统不能提供服务的时间



## dubbo直连

在@Reference直接指定url属性：127.0.0.1:20880