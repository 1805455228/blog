---
title: 01_安装VM和CentOS
date: 2019-10-02 17:24:51
tags: 
 - Linux
categories:
 - Linux
---

# 01_安装VM和CentOS

> 安装CentOS 6.8版本，下载bin版本的带图形化界面，下载Live版本的没有图形化界面
>
> [阿里巴巴CentOS下载地址](https://mirrors.aliyun.com/centos/)

## VM安装

1. 要到BIOS中修改设置开启虚拟化设备支持
2. 安装VM



## CentOS安装



### 网络连接三种形式的说明

#### 桥连接：

直接连接物理网络

![1570017182559](01_%E5%AE%89%E8%A3%85VM%E5%92%8CCentOS/1570017182559.png)

使用桥连接的话，也就是共享了网络环境，那么网关最后一位1，广播地址（交换机通讯）最后一位255，当超过253台机器的时候，会有ip冲突的问题。



#### NAT模式

用于共享主机的IP地址

![1570017534750](01_%E5%AE%89%E8%A3%85VM%E5%92%8CCentOS/1570017534750.png)



#### 主机模式

Linux就是一个独立的主机，不可以访问外网。



#### 总结：

![1570017637590](01_%E5%AE%89%E8%A3%85VM%E5%92%8CCentOS/1570017637590.png)

1. 桥连接：Linux可以和其他系统通信，但是可能造成ip冲突。
2. NAT：网络地址转换方式：Linux可以访问外网，不会造成ip冲突。
3. 主机模式：此时Linux是一个独立的主机，不能访问外网。



### 分区

![1570025231219](01_%E5%AE%89%E8%A3%85VM%E5%92%8CCentOS/1570025231219.png)

标准分区/boot分区：/boot挂载点，200MB，文件系统ext4；

标准分区/swap分区：无挂载点，2048MB，文件系统swap，大小一般是内存的1-1.5倍，这是虚拟内存；

标准分区/根分区：/挂载点，剩下的所有空间，文件系统ext4，



## 网络

右上角启用eth0，即成功连接到网络；



## VMTools安装

![1570025997376](01_%E5%AE%89%E8%A3%85VM%E5%92%8CCentOS/1570025997376.png)

可以让我们在windows下，方便与虚拟机交互。

如命令之间的复制，文件之间的复制，共享文件夹。



### 安装步骤

1. 进入CentOS
2. 点击vm菜单的 虚拟机 -> install vmware tools
3. centos会出现一个vm的安装包
4. 点击右键解压，得到一个安装文件
5. 进入该vm解压的目录，该文件在/root/桌面/vmware-tools-distrib/下
6. 安装./vmware-install.pl
7. 全部使用默认设置即可
8. 需要reboot重新启动来生效



![1570026565340](01_%E5%AE%89%E8%A3%85VM%E5%92%8CCentOS/1570026565340.png)

把这个tar包放在/opt目录下

用tar -zxvf VMwarTools-10.0....命令进行解压

cd到解压完的文件夹里，发现有个vmware-install.pl

用./vmware-install.pl执行之

一直下一步，安装完成后reboot重启即可用



### 共享文件夹

1. 为了方便，可以设置一个共享文件夹，比如d:/share
2. windows和CentOS就可以共享文件了了，但是在实际开发中，文件的上传和下载是需要用远程方式完成的。



步骤：

![1570026991453](01_%E5%AE%89%E8%A3%85VM%E5%92%8CCentOS/1570026991453.png)

1. 菜单->vm->setting,如图设置即可，注意：设置选项为always enable，这样就可以读写
2. windows和CentOS可共享d:/share目录
3. 在CentOS中的/mnt/hgfs/下



## Linux目录结构

**/bin**（/usr/bin、/usr/local/bin）：可执行的指令等。

**/boot**：系统启动文件，包括连接文件以及镜像文件。

/dev：设备管理器，把所有的硬件用文件的形式存储。

**/etc**：所有系统管理所需的配置文件和子目录

**/home**：家目录，存放普通用户的主目录，在Linux下每个用户都有自己的目录，一般该目录是以用户的账号命名的。

/lib：系统开机所需最基本的动态连接共享库，其作用类似于windows里面的DLL文件。几乎所有的应用程序都要用到这些共享库。

/lost+found：这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件

/lib64：库文件

**/media**：媒体，当插上如U盘等设备的时候，会把识别的设备挂载到这个目录下。

**/mnt**：挂载文件夹，系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂载到/mnt上，然后进入该目录就可以查看里面的内容了。

/opt：这是给主机额外安装软件所摆放的目录，如安装ORACLE数据库的时候就可以放在该目录下，默认为空。

/proc：虚拟的目录，是系统内存的映射，访问这个目录来获取系统信息

**/root**：root用户的主目录

/sbin（/usr/sbin、/usr/local/sbin）：super，高级用户可以使用的指令

/selinux：SELinux是一种安全子系统，它能控制程序只能访问特定文件。

/srv：service的缩写，该目录存放一些服务启动后需要提取的数据

/sys：该目录下安装了2.6内核中出现的一个文件系统sysfs

/tmp：存放临时文件

**/usr**：用户的很多应用程序和文件都放在这个目录下，类似于windows的Program files目录

**/urs/local**：这是另一个给主机额外安装软件所安装的目录，一般是通过编译源码的方式安装的程序。

**/var**：这个目录存放着不断扩充着的东西，习惯将经常被修改的目录放在该目录下，包括各种日志文件。



